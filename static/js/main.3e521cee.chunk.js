(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{30:function(t,e,r){},31:function(t,e,r){},34:function(t,e,r){"use strict";r.r(e);var a=r(4),c=r(38),i=r(0),n=r.n(i),s=r(20),o=r.n(s),f=(r(30),r(5)),l=(r(31),r(37)),b=function(t,e,r){return t.formatMessage({id:e},r)},u=r(7),p=r(39),j=function(t){var e=t.baseAtk,r=t.percAtk,a=t.flatAtk,c=t.critC,i=t.critD,n=t.percEle,s=e*r+a,o=e+s,f=1+Math.min(1,c)*i,l=Math.round(o*f*(1+n));return console.log(s,o,f,l),l},O=function(t){var e=t.percAtk,r=t.critC,a=t.critD,c=j(t);return{critPercDiff:j(Object(u.a)(Object(u.a)({},t),{},{critC:r+.08,critD:a+.15}))/c-1,atk20Diff:j(Object(u.a)(Object(u.a)({},t),{},{percAtk:e+.2}))/c-1,atk30Diff:j(Object(u.a)(Object(u.a)({},t),{},{percAtk:e+.3}))/c-1,atk40Diff:j(Object(u.a)(Object(u.a)({},t),{},{percAtk:e+.4}))/c-1}},k=function(t){t.baseAtk;var e=t.percAtk,r=(t.flatAtk,t.critC),a=t.critD,c=(t.percEle,j(t));return{atkPercDiff:j(Object(u.a)(Object(u.a)({},t),{},{percAtk:e+.0498}))/c-1,critRateDiff:j(Object(u.a)(Object(u.a)({},t),{},{critC:r+.033}))/c-1,critDmgDiff:j(Object(u.a)(Object(u.a)({},t),{},{critD:a+.066}))/c-1}},g=function(t){if(!t)return null;var e=t.baseAtk,r=t.flatAtk,a=t.percAtk,c=t.critC,i=t.critD,n=t.percEle,s=t.id;if(console.log("id:",s),s||(s=Object(p.a)()),!e||!r||!a||!c||!i||!n)return null;var o={id:s,baseAtk:e,flatAtk:r,percAtk:a,critC:c,critD:i,percEle:n};return Object(u.a)(Object(u.a)({},o),{},{elePower:j(o),spiralBuffs:O(o),substats:k(o)})},m=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,c=Object(l.a)(),n=Object(i.useState)(e),s=Object(f.a)(n,2),o=s[0],u=s[1],p=function(t){u(t.currentTarget.value)},j=r||"profile."+t,O=b(c,j),k=Object(a.jsxs)("span",{children:[O,Object(a.jsx)("input",{type:"text",id:t,name:t,onChange:p,maxLength:"7",size:"5",value:o})]});return[k,o,u]},A=function(t){var e=t.data,r=t.onProfileChange,c=Object(l.a)(),s=Object(i.useState)(e),o=Object(f.a)(s,2),u=o[0],p=o[1],j=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object(i.useState)(null),r=Object(f.a)(e,2),c=r[0],s=r[1],o=m("baseAtk",t.baseAtk),l=Object(f.a)(o,2),b=l[0],u=l[1],p=m("flatAtk",t.flatAtk),j=Object(f.a)(p,2),O=j[0],k=j[1],A=m("percAtk",t.percAtk?100*t.percAtk:""),d=Object(f.a)(A,2),v=d[0],D=d[1],h=m("critC",t.critC?100*t.critC:""),C=Object(f.a)(h,2),x=C[0],w=C[1],P=m("critD",t.critD?100*t.critD:""),E=Object(f.a)(P,2),S=E[0],I=E[1],F=m("eleDmg",t.percEle?100*t.percEle:""),y=Object(f.a)(F,2),R=y[0],G=y[1];Object(i.useEffect)((function(){var t=g({baseAtk:parseInt(u),flatAtk:parseInt(k),percAtk:D/100,critC:w/100,critD:I/100,percEle:G/100});t&&s(t)}),[u,k,D,w,I,G,s]);var L=Object(a.jsxs)(n.a.Fragment,{children:[b,O,v,x,S,R]});return[c,L]}(e,(function(t){p(g(t),u.id)})),O=Object(f.a)(j,2),k=O[0],A=O[1],d=Object(i.useRef)();return d.current=r,Object(i.useEffect)((function(){k&&d.current(k)}),[k]),Object(a.jsxs)(n.a.Fragment,{children:[A,Object(a.jsx)("br",{}),k&&b(c,"profile.summary.elePower",{power:k.elePower}),Object(a.jsx)("br",{}),function(t){if(t){var e=t.substats,r=e.atkPercDiff,a=e.critRateDiff,i=e.critDmgDiff,n=Math.max(r,a,i),s="";switch(n){case r:s="profile.substat.atkPercGain";break;case a:s="profile.substat.critRateGain";break;case i:s="profile.substat.critDmgGain"}var o=b(c,s,{gain:(f=n,(100*f).toFixed(2)+"%")});return b(c,"profile.substat.best",{stat:o})}var f;return null}(k)]})};var d=function(){var t=Object(i.useState)([]),e=Object(f.a)(t,2),r=e[0],c=e[1];Object(i.useEffect)((function(){var t=window.localStorage.getItem("profiles");t&&c(JSON.parse(t))}),[]);var n=function(t){var e;e="profiles",window.localStorage.getItem(e);!function(t,e){window.localStorage.setItem(t,e)}("profiles",JSON.stringify([t]))};return Object(a.jsxs)("div",{className:"App",children:[r&&r[0]&&Object(a.jsx)(A,{id:r[0].id,data:r[0],onProfileChange:n}),Object(a.jsx)("p",{}),Object(a.jsx)(A,{onProfileChange:n})]})},v=function(t){t&&t instanceof Function&&r.e(3).then(r.bind(null,40)).then((function(e){var r=e.getCLS,a=e.getFID,c=e.getFCP,i=e.getLCP,n=e.getTTFB;r(t),a(t),c(t),i(t),n(t)}))};o.a.render(Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)(c.a,{locale:"en-US",defaultLocale:"en-US",messages:{"profile.character":"Character","profile.level":"Level","profile.baseAtk":"Base Attack","profile.percAtk":"Atk %","profile.flatAtk":"Flat Attack","profile.critC":"Crit Rate","profile.critD":"Crit Damage","profile.eleDmg":"Ele %","profile.summary.elePower":"Elemental Power: {power}","profile.substat.best":"Next substat to target -- {stat}","profile.substat.atkPercGain":"(4.98%) Attack Percent Improvement: {gain}","profile.substat.critRateGain":"(3.3%) Crit Rate Improvement: {gain}","profile.substat.critDmgGain":"(6.6%) Crit Dmg Improvement: {gain}"},children:Object(a.jsx)(d,{})})}),document.getElementById("root")),v()}},[[34,1,2]]]);
//# sourceMappingURL=main.3e521cee.chunk.js.map