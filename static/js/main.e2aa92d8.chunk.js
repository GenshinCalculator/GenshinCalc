(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{29:function(t,e,r){},30:function(t,e,r){},33:function(t,e,r){"use strict";r.r(e);var a=r(4),c=r(37),i=r(1),n=r.n(i),s=r(20),l=r.n(s),o=(r(29),r(5)),f=(r(30),r(36)),b=function(t,e,r){return t.formatMessage({id:e},r)},p=r(7),u=function(t){var e=t.baseAtk,r=t.percAtk,a=t.flatAtk,c=t.critC,i=t.critD,n=t.percEle,s=e*r+a,l=e+s,o=1+Math.min(1,c)*i,f=Math.round(l*o*(1+n));return console.log(s,l,o,f),f},j=function(t){var e=t.percAtk,r=t.critC,a=t.critD,c=u(t);return{critPercDiff:u(Object(p.a)(Object(p.a)({},t),{},{critC:r+.08,critD:a+.15}))/c-1,atk20Diff:u(Object(p.a)(Object(p.a)({},t),{},{percAtk:e+.2}))/c-1,atk30Diff:u(Object(p.a)(Object(p.a)({},t),{},{percAtk:e+.3}))/c-1,atk40Diff:u(Object(p.a)(Object(p.a)({},t),{},{percAtk:e+.4}))/c-1}},O=function(t){t.baseAtk;var e=t.percAtk,r=(t.flatAtk,t.critC),a=t.critD,c=(t.percEle,u(t));return{atkPercDiff:u(Object(p.a)(Object(p.a)({},t),{},{percAtk:e+.0498}))/c-1,critRateDiff:u(Object(p.a)(Object(p.a)({},t),{},{critC:r+.033}))/c-1,critDmgDiff:u(Object(p.a)(Object(p.a)({},t),{},{critD:a+.066}))/c-1}},k=function(t){if(!t)return null;var e=t.baseAtk,r=t.flatAtk,a=t.percAtk,c=t.critC,i=t.critD,n=t.percEle;if(!e||!r||!a||!c||!i||!n)return null;var s={baseAtk:e,flatAtk:r,percAtk:a,critC:c,critD:i,percEle:n};return Object(p.a)(Object(p.a)({},s),{},{elePower:u(s),spiralBuffs:j(s),substats:O(s)})},g=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,c=Object(f.a)(),n=Object(i.useState)(e),s=Object(o.a)(n,2),l=s[0],p=s[1];console.log(t,l,e);var u=function(t){p(t.currentTarget.value)},j=r||"profile."+t,O=b(c,j),k=Object(a.jsxs)("span",{children:[O,Object(a.jsx)("input",{type:"text",id:t,name:t,onChange:u,maxLength:"7",size:"5",value:l})]});return[k,l,p]},A=function(t){var e=t.data,r=Object(f.a)(),c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object(i.useState)(null),r=Object(o.a)(e,2),c=r[0],s=r[1];console.log("init profile:",t);var l=g("baseAtk",t.baseAtk),f=Object(o.a)(l,2),b=f[0],p=f[1],u=g("flatAtk",t.flatAtk),j=Object(o.a)(u,2),O=j[0],A=j[1],m=g("percAtk",t.percAtk?100*t.percAtk:""),v=Object(o.a)(m,2),D=v[0],d=v[1],h=g("critC",t.critC?100*t.critC:""),C=Object(o.a)(h,2),x=C[0],w=C[1],E=g("critD",t.critD?100*t.critD:""),P=Object(o.a)(E,2),I=P[0],S=P[1],F=g("eleDmg",t.percEle?100*t.percEle:""),y=Object(o.a)(F,2),G=y[0],R=y[1];Object(i.useEffect)((function(){var t=k({baseAtk:parseInt(p),flatAtk:parseInt(A),percAtk:d/100,critC:w/100,critD:S/100,percEle:R/100});t&&s(t)}),[p,A,d,w,S,R,s]);var L=Object(a.jsxs)(n.a.Fragment,{children:[b,O,D,x,I,G]});return[c,L]}(e),s=Object(o.a)(c,2),l=s[0],p=s[1];return Object(i.useEffect)((function(){var t,e;l&&(t="profileIdTodo",e=JSON.stringify([l]),window.localStorage.setItem(t,e))}),[l]),Object(a.jsxs)(n.a.Fragment,{children:[p,Object(a.jsx)("br",{}),l&&b(r,"profile.summary.elePower",{power:l.elePower}),Object(a.jsx)("br",{}),function(t){if(t){var e=t.substats,a=e.atkPercDiff,c=e.critRateDiff,i=e.critDmgDiff,n=Math.max(a,c,i),s="";switch(n){case a:s="profile.substat.atkPercGain";break;case c:s="profile.substat.critRateGain";break;case i:s="profile.substat.critDmgGain"}var l=b(r,s,{gain:(o=n,(100*o).toFixed(2)+"%")});return b(r,"profile.substat.best",{stat:l})}var o;return null}(l)]})};var m=function(){var t=Object(i.useState)([]),e=Object(o.a)(t,2),r=e[0],c=e[1];return Object(i.useEffect)((function(){var t=window.localStorage.getItem("profileIdTodo");c(t?JSON.parse(t):[])}),[]),Object(a.jsxs)("div",{className:"App",children:[r&&r[0]&&Object(a.jsx)(A,{data:r[0]}),Object(a.jsx)("p",{}),Object(a.jsx)(A,{})]})},v=function(t){t&&t instanceof Function&&r.e(3).then(r.bind(null,38)).then((function(e){var r=e.getCLS,a=e.getFID,c=e.getFCP,i=e.getLCP,n=e.getTTFB;r(t),a(t),c(t),i(t),n(t)}))};l.a.render(Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)(c.a,{locale:"en-US",defaultLocale:"en-US",messages:{"profile.character":"Character","profile.level":"Level","profile.baseAtk":"Base Attack","profile.percAtk":"Atk %","profile.flatAtk":"Flat Attack","profile.critC":"Crit Rate","profile.critD":"Crit Damage","profile.eleDmg":"Ele %","profile.summary.elePower":"Elemental Power: {power}","profile.substat.best":"Next stat to target -- {stat}","profile.substat.atkPercGain":"Attack Percent Improvement: {gain}","profile.substat.critRateGain":"Crit Rate Improvement: {gain}","profile.substat.critDmgGain":"Crit Dmg Improvement: {gain}"},children:Object(a.jsx)(m,{})})}),document.getElementById("root")),v()}},[[33,1,2]]]);
//# sourceMappingURL=main.e2aa92d8.chunk.js.map